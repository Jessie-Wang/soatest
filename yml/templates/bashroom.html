<!DOCTYPE html>
<!--suppress ALL -->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,height=device-height,inital-scale=1.0,maximum-scale=1.0,user-scalable=no;">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <style>
      #map {
        width: 100%;
        height: 400px;
        background-color: grey;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      function initMap() {
        var uluru_washroom1 = {lat: 40.0023303, lng: 116.3217816};//@,
        var uluru_washroom2 = {lat: 40.0025557, lng: 116.3256287};//@,
        var uluru_washroom3 = {lat: 40.0024377, lng: 116.3264685};//,
        var uluru_washroom4 = {lat: 40.0025331, lng: 116.327982};//,
        var uluru_washroom5 = {lat: 40.0017974, lng: 116.3302854};//@,
        var uluru_washroom6 = {lat: 40.0043442, lng: 116.3301734};//@4,
        var uluru_washroom7 = {lat: 40.0057593, lng: 116.3292888};//40.0057593,
        var uluru_washroom8 = {lat: 40.0057593, lng: 116.3292888};//,
        var uluru_washroom9 = {lat: 40.009911, lng: 116.3260425};//4,
        var uluru_washroom11 = {lat: 40.011044, lng: 116.32378};//,
        var uluru_washroom12 = {lat: 40.011816, lng: 116.326398}  //,
        var uluru_washroom13 = {lat: 40.0117906, lng: 116.3298723}  //40.0117906,
        var uluru_washroom14 = {lat: 40.0103706, lng: 116.3314601}  //,
        var uluru_washroom15 = {lat: 40.0085039, lng: 116.3225745}  //,
        var uluru_washroom16 = {lat: 40.0049568, lng: 116.3206758}  //,
        var uluru_washroom10 = {lat: 40.002915, lng: 116.317134}  //,
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: {lat: 40.001, lng: 116.3245}
        });
        var latlng_washroom1 = new google.maps.LatLng(uluru_washroom1.lat,uluru_washroom1.lng);
        var latlng_washroom2 = new google.maps.LatLng(uluru_washroom2.lat,uluru_washroom2.lng);
        var latlng_washroom3 = new google.maps.LatLng(uluru_washroom3.lat,uluru_washroom3.lng);
        var latlng_washroom4 = new google.maps.LatLng(uluru_washroom4.lat,uluru_washroom4.lng);
        var latlng_washroom5 = new google.maps.LatLng(uluru_washroom5.lat,uluru_washroom5.lng);
        var latlng_washroom6 = new google.maps.LatLng(uluru_washroom6.lat,uluru_washroom6.lng);
        var latlng_washroom7 = new google.maps.LatLng(uluru_washroom7.lat,uluru_washroom7.lng);
        var latlng_washroom8 = new google.maps.LatLng(uluru_washroom8.lat,uluru_washroom8.lng);
        var latlng_washroom9 = new google.maps.LatLng(uluru_washroom9.lat,uluru_washroom9.lng);
        var latlng_washroom10 = new google.maps.LatLng(uluru_washroom10.lat,uluru_washroom10.lng);
        var latlng_washroom11 = new google.maps.LatLng(uluru_washroom11.lat,uluru_washroom11.lng);
        var latlng_washroom12 = new google.maps.LatLng(uluru_washroom12.lat,uluru_washroom12.lng);
        var latlng_washroom13 = new google.maps.LatLng(uluru_washroom13.lat,uluru_washroom13.lng);
        var latlng_washroom14 = new google.maps.LatLng(uluru_washroom14.lat,uluru_washroom14.lng);
        var latlng_washroom15 = new google.maps.LatLng(uluru_washroom15.lat,uluru_washroom15.lng);
        var latlng_washroom16 = new google.maps.LatLng(uluru_washroom16.lat,uluru_washroom16.lng);
        var marker_washroom1 = new google.maps.Marker({
          position: uluru_washroom1,
          map: map
        });
          var marker_washroom2 = new google.maps.Marker({
          position: uluru_washroom2,
          map: map
        });
          var marker_washroom3 = new google.maps.Marker({
          position: uluru_washroom3,
          map: map
        });
          var marker_washroom4 = new google.maps.Marker({
          position: uluru_washroom4,
          map: map
        });
          var marker_washroom5 = new google.maps.Marker({
          position: uluru_washroom5,
          map: map
        });
          var marker_washroom6 = new google.maps.Marker({
          position: uluru_washroom6,
          map: map
        });
          var marker_washroom7 = new google.maps.Marker({
          position: uluru_washroom7,
          map: map
        });
          var marker_washroom8 = new google.maps.Marker({
          position: uluru_washroom8,
          map: map
        });var marker_washroom9 = new google.maps.Marker({
          position: uluru_washroom9,
          map: map
        });var marker_washroom10 = new google.maps.Marker({
          position: uluru_washroom10,
          map: map
        });var marker_washroom11 = new google.maps.Marker({
          position: uluru_washroom11,
          map: map
        });var marker_washroom12 = new google.maps.Marker({
          position: uluru_washroom12,
          map: map
        });var marker_washroom13 = new google.maps.Marker({
          position: uluru_washroom13,
          map: map
        });var marker_washroom14 = new google.maps.Marker({
          position: uluru_washroom14,
          map: map
        });var marker_washroom15 = new google.maps.Marker({
          position: uluru_washroom15,
          map: map
        });
          var marker_washroom16 = new google.maps.Marker({
          position: uluru_washroom16,
          map: map
        });
        var present_point;
        var directionsService = new google.maps.DirectionsService;
        var directionsDisplay = new google.maps.DirectionsRenderer;
        directionsDisplay.setMap(map);
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            var infoWindow = new google.maps.InfoWindow({map:map,content:"you are here"});
            infoWindow.setPosition(pos);
            map.setCenter(pos);
            var marker_here = new google.maps.Marker({
              position: pos,
              map: map
            });
            var latlgn_present = new google.maps.LatLng(pos.lat,pos.lng);
            present_point = latlgn_present;
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        } else {
          // Browser doesn't support Geolocation
          handleLocationError(false, infoWindow, map.getCenter());
        }
        google.maps.event.addListener(marker_washroom1,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom1);
        });
          google.maps.event.addListener(marker_washroom2,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom2);
        });
          google.maps.event.addListener(marker_washroom3,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom3);
        });
          google.maps.event.addListener(marker_washroom4,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom4);
        });
          google.maps.event.addListener(marker_washroom5,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom5);
        });
          google.maps.event.addListener(marker_washroom6,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom6);
        });
          google.maps.event.addListener(marker_washroom7,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom7);
        });
          google.maps.event.addListener(marker_washroom8,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom8);
        });
          google.maps.event.addListener(marker_washroom9,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom9);
        });
          google.maps.event.addListener(marker_washroom10,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom10);
        });
          google.maps.event.addListener(marker_washroom11,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom11);
        });
          google.maps.event.addListener(marker_washroom12,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom12);
        });
          google.maps.event.addListener(marker_washroom13,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom13);
        });
          google.maps.event.addListener(marker_washroom14,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom14);
        });
          google.maps.event.addListener(marker_washroom15,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom15);
        });
          google.maps.event.addListener(marker_washroom16,'click', function() {
          calculateAndDisplayRoute(directionsService, directionsDisplay,present_point,latlng_washroom16);
        });
      }

      function calculateAndDisplayRoute(directionsService, directionsDisplay,origin,destination) {
        directionsService.route({
          origin: origin,
          destination: destination,
          travelMode: 'WALKING',
        }, function(response, status) {
          if (status === 'OK') {
            directionsDisplay.setDirections(response);
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });
      }
      function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBir98xXehuI48KdyuGFQiay4r-39UOT28&callback=initMap">
    </script>
  </body>
</html>
